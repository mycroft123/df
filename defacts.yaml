version: 1.2.4
cache: true
interface:
  agents: true
balance:
  enabled: true
  startBalance: 10
  autoRefillEnabled: false
  refillIntervalValue: 1
  refillIntervalUnit: "days"
  refillAmount: 10
registration:
  socialLogins:
    - "discord"
    - "facebook"
    - "github"
    - "google"
    - "openid"

endpoints:
  # Enable agents endpoint (for OpenAI, Anthropic, etc.)
  agents:
    allowedProviders:
      - "openai"
      - "anthropic"
      - "google"
    recursionLimit: 10
    
  custom:
    # DeFacts News - Specialized for news/fact-checking
    - name: "DeFacts News"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "https://defacts-api-production.up.railway.app/v1"
      models:
        default:
          - sonar              # Best for news/current events
          - sonar-pro          # Enhanced fact-checking
          - sonar-deep-research # Deep investigative queries
        fetch: false
      iconURL: "https://raw.githubusercontent.com/mycroft123/df/bfb583e973a38f528231e2fb2303ebae6d10bca3/defacts.png"
      titleConvo: true
      titleModel: "sonar"
      streaming: false
      type: "openai"  # ‚Üê Add this!
      modelDisplayLabel: "DeFacts News AI"
      # Optional: Add system message for news focus
      addParams:
        system: "You are DeFacts AI, a specialized fact-checking assistant focused on objective analysis and empirical evidence. Always cite sources and provide balanced perspectives on current events."
      dropParams:
        - "stop"
        - "user"
      
    # DeFacts Research - For deep research
    - name: "DeFacts Research"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "https://defacts-api-production.up.railway.app/v1"
      models:
        default:
          - sonar-deep-research  # Primary model
          - sonar-reasoning-pro  # For complex analysis
          - r1-1776             # Latest reasoning model
        fetch: false
      iconURL: "https://raw.githubusercontent.com/mycroft123/df/bfb583e973a38f528231e2fb2303ebae6d10bca3/defacts.png"
      titleConvo: true
      titleModel: "sonar"
      modelDisplayLabel: "DeFacts Research AI"
      # Higher token limits for research
      maxTokensDefault: 4000
      
    # DeFacts General - All-purpose
    - name: "DeFacts"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "https://defacts-api-production.up.railway.app/v1"
      models:
        default:
          - sonar
          - sonar-pro
          - sonar-reasoning
          - sonar-reasoning-pro
          - sonar-deep-research
          - r1-1776
        fetch: false
      iconURL: "https://raw.githubusercontent.com/mycroft123/df/bfb583e973a38f528231e2fb2303ebae6d10bca3/defacts.png"
      titleConvo: true
      titleModel: "sonar"
      modelDisplayLabel: "DeFacts AI"
      
    # Keep original Perplexity for compatibility
    - name: "Perplexity"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "https://defacts-api-production.up.railway.app/v1"
      models:
        default:
          - r1-1776
          - sonar
          - sonar-deep-research
          - sonar-pro
          - sonar-reasoning
          - sonar-reasoning-pro
        fetch: false
      titleConvo: true
      titleModel: "sonar"
      modelDisplayLabel: "Perplexity (via DeFacts)"
      
    # xAI
    - name: "xAI"
      apiKey: "${XAI_API_KEY}"
      baseURL: "https://api.x.ai/v1"
      models:
        default:
          - grok-3-fast
          - grok-3
          - grok-3-mini-fast
          - grok-3-mini
        fetch: false
      titleConvo: true
      titleMethod: "completion"
      titleModel: "grok-beta"
      modelDisplayLabel: "xAI"
